<div class="container-xl">
    <!--    <p>bla bla bla</p>-->
    <div class="row" *ngIf="submissionService.form.value['submission_id']">
        <div class="col">
            <h3 class="mb-4">
                You are editing the submission:
                <span class="badge bg-primary-dark">
                    {{submissionService.form.value['submission_id']}}
                </span>
            </h3>
        </div>
        <div class="col-auto ms-auto">

        </div>
    </div>
    <div class="row align-items-center " *ngIf="submissionService.form.value['entry_id']">
        <div class="col">
            <h3>
                You are editing the entry:
                <span class="badge bg-primary">
                    {{submissionService.form.value['entry_id']}}
                </span>
            </h3>
        </div>
        <div class="col-auto ms-auto">
            <span class="badge bg-primary-dark bg-hover-min"><i class="bi bi-share"></i> Get publication access
                code</span>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <h4 class="mb-3">Submission form</h4>

            <!-- Ensembles -->
            <div class="card" [class.card-active]="activeComponent === 'upload'">
                <div class="card-header">
                    <div class="row">
                        <div class="col">
                            Ensemble upload
                        </div>
                        <div class="col-auto">
                            <span class="badge bg-primary-dark bg-hover" (click)="toggle('upload')"><i
                                    class="bi bi-view-list"></i> Toggle</span>
                        </div>
                    </div>
                </div>
                <div class="card-body" *ngIf="activeComponent === 'upload'">
                    <app-form-files></app-form-files>

                </div>
            </div>

            <!-- Description -->
            <div class="card" [class.card-active]="activeComponent === 'description'">
                <div class="card-header">
                    <div class="row">
                        <div class="col">
                            Description <span style="font-weight: lighter">(optional)</span>
                        </div>
                        <div class="col-auto">
                            <span class="badge bg-primary-dark bg-hover" (click)="toggle('description')"><i
                                    class="bi bi-view-list"></i> Toggle</span>
                        </div>
                    </div>
                </div>
                <div class="card-body" *ngIf="activeComponent === 'description'">
                    <app-form-description></app-form-description>
                </div>
            </div>

            <!-- Constructs -->
            <div class="card" [class.card-active]="activeComponent === 'construct'">
                <div class="card-header">
                    <div class="row">
                        <div class="col">
                            Ensemble construct <span style="font-weight: lighter">(optional)</span>
                        </div>
                        <div class="col-auto">
                            <span class="badge bg-primary-dark bg-hover" (click)="toggle('construct')"><i
                                    class="bi bi-view-list"></i> Toggle</span>
                        </div>
                    </div>

                </div>
                <div class="card-body" *ngIf="activeComponent === 'construct'">
                    <app-form-construct></app-form-construct>

                </div>
            </div>

            <!-- Error box -->
            <ng-container *ngIf="submissionService.errors">
                <div class="row mb-3" *ngFor="let currError of submissionService.errors">
                    <div class="col">
                        <!-- <p class="text-danger mb-0"><strong>Type of error: </strong> {{currError['title']}}</p> -->
                        <p class="text-danger mb-0"><strong>Error Message: </strong>
                            <span [innerHTML]="currError['message']"></span>
                        </p>
                    </div>
                </div>
            </ng-container>

            <!-- Actions -->
            <form [formGroup]="submissionService.form" *ngIf="submissionService.progress == 0">
                <div class="row justify-content-center">
                    <div class="col-auto">
                        <button class="btn btn-primary-dark" (click)="submissionService.submission()">Run
                            assessment
                        </button>
                    </div>
                </div>
            </form>

            <div class="row justify-content-center" *ngIf="submissionService.progress > 0">
                <div class="col-auto">
                    Uploading...({{submissionService.progress}}%)
                </div>
            </div>

            <!-- <div class="row justify-content-center">
                <div class="col-auto">
                    <button class="btn btn-primary-dark" (click)="auxFun()">Debug
                    </button>
                </div>
            </div> -->

        </div>
    </div>

    <div>
        {{aux}}
    </div>

</div>